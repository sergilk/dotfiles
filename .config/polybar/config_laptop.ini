[global/wm]
include-file = $HOME/.config/polybar/colors.ini

[settings]
pseudo-transparency = true

[bar/main]
font-0 = "JetBrainsMono Nerd:weight=Bold:size=11;2"
font-1 = "Symbols Nerd Font Mono:size=12;3"
font-2 = "Noto Color Emoji:scale=10;2"

dpi-x = 132
dpi-y = 132
bottom = true
width = 100%
height = 28
padding-right = 4px
radius = 0px
module-margin-left = 8px
line-size = 2px
border-size = 6
border-color = #00000000

enable-ipc = true
cursor-click = pointer

background = ${colors.background}
foreground = ${colors.foreground}

modules-left = i3
modules-center =
modules-right = track-time cpu memory pulseaudio xkeyboard date powermenu tray 

[module/i3]
type = internal/i3
pin-workspaces = true
enable-click = true
enable-scroll = false
index-sort = true

format = <label-state>
label-focused = %name%
label-focused-padding = 1
label-focused-background = ${colors.primary}
label-focused-foreground = ${colors.foreground}
label-unfocused = %name%
label-unfocused-padding = 1
label-visible = %name%
label-visible-padding = 1
label-urgent = %name%
label-urgent-padding = 1
label-urgent-foreground = ${colors.alert}

[module/tray]
type = internal/tray
tray-spacing = 3px
tray-size = 80%

[module/track-time]
type = custom/script
exec = ~/.config/polybar/scripts/track-time.sh
label = %output%
format = <label>
format-prefix = "󰔟 "
format-prefix-foreground = ${colors.foreground}
interval = 1
click-left = exec ~/.config/polybar/scripts/track-time.sh start
click-right = exec ~/.config/polybar/scripts/track-time.sh pause
click-middle = exec ~/.config/polybar/scripts/track-time.sh reset

[module/date]
type = internal/date
interval = 1
date = %I:%M
date-alt = %D
format = <label>
label = %date%

[module/memory]
type = internal/memory
interval = 2
format = <label>
format-prefix = " "
format-prefix-foreground = ${colors.foreground}
label = %percentage_used%%

[module/cpu]
type = internal/cpu
interval = 2
format = <label>
format-prefix = " "
format-prefix-foreground = ${colors.foreground}
label = %percentage%%

[module/pulseaudio]
type = internal/pulseaudio
interval = 2
format-volume = <label-volume>
format-volume-prefix = "󰕾 "
format-volume-prefix-foreground = ${colors.foreground}
label-volume = %percentage%%
label-muted = 󰝟
label-muted-foreground = ${colors.alert}
click-right = pavucontrol

[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock
format = <label-layout> <label-indicator>
label-layout = %icon%
layout-icon-0 = us;ENG
layout-icon-1 = ua;UKR
layout-icon-default = ?
label-indicator = %name%
label-indicator-foreground = ${colors.alert}

[module/powermenu]
type = custom/menu
label-open = ""
label-open-foreground = ${colors.foreground}
label-close = "󰜺"
label-close-foreground = ${colors.foreground}
label-separator = " "
label-separator-foreground = ${colors.foreground}
menu-0-0 = ""
menu-0-0-exec = i3lock -c 0a0a0a
menu-0-0-foreground = #EF9300
menu-0-1 = ""
menu-0-1-exec = systemctl poweroff
menu-0-1-foreground = #EE0000
menu-0-2 = ""
menu-0-2-exec = systemctl reboot
menu-0-2-foreground = #00cc00
